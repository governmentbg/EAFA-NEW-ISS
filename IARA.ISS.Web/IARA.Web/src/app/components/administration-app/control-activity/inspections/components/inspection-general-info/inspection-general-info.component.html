<div [formGroup]="form"
     fxLayout="column"
     fxLayoutGap="1em"
     fxLayoutAlign="start stretch">
    <div fxLayout="row"
         fxLayoutGap="1em"
         fxLayoutAlign="start center">
        <tl-input fxFlex="25"
                  [prefixText]="numPrefix"
                  formControlName="reportNumberControl"
                  label="{{ 'inspections.report-number' | tlTranslate }}">
        </tl-input>
        <tl-date-time fxFlex="25"
                      [max]="today"
                      [disabled]="isDisabled"
                      formControlName="inspectionStartDateControl"
                      label="{{ startDateLabel }}">
        </tl-date-time>
        <tl-date-time fxFlex="25"
                      [max]="today"
                      [disabled]="isDisabled"
                      formControlName="inspectionEndDateControl"
                      label="{{ endDateLabel }}">
        </tl-date-time>
        <tl-checkbox *ngIf="hasEmergencySignal"
                     fxFlex="25"
                     formControlName="emergencySignalControl"
                     label="{{ 'inspections.is-emergency' | tlTranslate }}">
        </tl-checkbox>
    </div>

    <mat-error *ngIf="reportNumAlreadyExists === true">
        * {{ 'inspections.report-num-already-exists-error' | tlTranslate }}
    </mat-error>

    <inspectors-table formControlName="inspectorsControl"
                      [institutions]="institutions"
                      (headInspectorChanged)="onReportNumChanged($event)">
    </inspectors-table>
</div>